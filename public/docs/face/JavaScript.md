# JavaScript面试题

### JS-构造函数类和原型prototype定义属性和方法的区别

> 1. 把方法写在原型中比写在构造函数中消耗的内存更小，因为在内存中一个类的原型只有一个，写在原型中的行为可以被所有实例共享，实例化的时候并不会再实例中复制一份。而写在类中的方法，实例化的时候会在每一个实例对象中在复制一份，所以消耗的内存更高。因此没有特殊原因，我们一般把属性定义在类中，行为定义在原型中。
> 2. 在构造函数中定义的属性和方法要比原型中定义的属性和方法优先级高，如果定义了同名称的属性和方法，构造函数中的将会覆盖原型中的。

### 对富文本的处理。（如何防止恶意攻击）(XSS)

> 1. 过滤。对诸如`<script>`、`<img>`、`<a>`等标签进行过滤。
> 2. 编码。像一些常见的符号，如<>在输入的时候要对其进行转换编码，这样做浏览器是不会对该标签进行解释执行的，同时也不影响显示效果。
> 3. 限制。通过以上的案例我们不难发现xss攻击要能达成往往需要较长的字符串，因此对于一些可以预期的输入可以通过限制长度强制截断来进行防御。